<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Map</title>
    <link rel="stylesheet" href="/css/weather_map.css">
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.css' rel='stylesheet' />
</head>
<body>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="/js/keys.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<h1> Weather App</h1>

<!--This is the input search box-->
<!--<div class="input">-->
<!--    <input type="text" class="inputValue" placeholder="Enter a city">-->
<!--    <input type="submit" value="Submit" class="button">-->
<!--</div>-->

<div class="container">
    <div class="firstCard row" ></div>
</div>

<!--<div class="container">-->
<!--    <div class="secondCard"></div>-->
<!--</div>-->

<!--<div class="container">-->
<!--    <div class="thirdCard"></div>-->
<!--</div>-->

<!--<div class="container">-->
<!--    <div class="fourthCard"></div>-->
<!--</div>-->

<!--<div class="container">-->
<!--    <div class="fifthCard"></div>-->
<!--</div>-->

<!--<div class="container">-->
<!--    <div class="sixthCard"></div>-->
<!--</div>-->

<!--<div class="container">-->
<!--    <div class="seventhCard"></div>-->
<!--</div>-->

<!--<div class="container">-->
<!--    <div class="eigthCard"></div>-->
<!--</div>-->


<div id='map' class='container' style='width: 400px; height: 300px;'></div>
<div class="display">
    <div class="dt"></div>



</div>
<!--<div class="display">-->
<!--    <h1 class="name"></h1>-->
<!--    <p class="desc"></p>-->
<!--    <p class="temp"></p>-->
<!--</div>-->

<!--<div class="card" style="width: 18rem;">-->
<!--&lt;!&ndash;    <img class="card-img-top" src="..." alt="Card image cap">&ndash;&gt;-->
<!--    <div class="card-body">-->
<!--        <h5 class="card-date"></h5>-->
<!--        <hr>-->
<!--        <p class="card-weather"></p>-->
<!--        <hr>-->
<!--        <p class="card-description"></p>-->
<!--        <hr>-->
<!--        <p class="card-humidity"></p>-->
<!--        <hr>-->
<!--        <p class="card-wind"></p>-->
<!--        <hr>-->
<!--        <p class="card-pressure"></p>-->
<!--    </div>-->

<!--<script>-->
<!--    var button = document.querySelector('.button');-->
<!--    var inputValue = document.querySelector('.inputValue');-->
<!--    var name = document.querySelector('.name');-->
<!--    var desc = document.querySelector('.desc');-->
<!--    var temp = document.querySelector('.temp');-->

<!--    button.addEventListener('click', function() {-->
<!--        fetch($.get)-->
<!--            .then(response => response.json())-->
<!--            .then(data => console.log(data))-->
<!--            .catch(err => alert("Wrong city name"))-->
<!--    })-->


<!-- -->
<!--</script>-->
<!--*******This is displaying the 5 day forecast********-->
<script>
    "use strict";
    $.get('https://api.openweathermap.org/data/2.5/onecall', {
        appid: OPEN_WEATHER_APPID,
        lat: 29.4252,
        lon: -98.4916,
        units: 'imperial',
        exclude: 'minutely,hourly'
    }).done(function(data) {
        console.log(data);



    //     data.daily.forEach(function(day) {
    // let unix_timestamp = (day.dt);
    //     var date = new Date(unix_timestamp * 1000);
// // Hours part from the timestamp
//             var hours = date.getHours();
// // Minutes part from the timestamp
//             var minutes = "0" + date.getMinutes();
// // Seconds part from the timestamp
//             var seconds = "0" + date.getSeconds();
//
// // Will display time in 10:30:23 format
//             var formattedTime = hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);
//


            //     $(".firstCard").append('<p>' + "Today's date" + '</p>', '<div>' + date + '</div>')
            //
            // var card1 = (day.temp.day);
            //     $(".firstCard").append('<p>' + "Temperature:" + '</p>', '<div>' + card1 + '</div>')
            // var card2 = (day.humidity);
            //     $(".firstCard").append('<p>' + "Humidity:" + '</p>', '<div>' + card2 + '</div>')
            // var card3 = (day.wind_gust);
            //     $(".firstCard").append('<p>' + "Wind:" + '</p>', '<div>' + card3 + '</div>' )
            // var card4 = (day.pressure);
            //     $(".firstCard").append('<p>' + "Pressure:" + '</p>', '<div>' + card4 + '</div>')
var html = '';
        data.daily.forEach(
    function cardHtml(day){
        html += '<div class="card  col-4 p-2">';
    html += '<p class="card-header p-0">' + new Date(day.dt * 1000) + '</p>';
    html += '<p class= "card-text">' + day.temp.day + ' ' + day.temp.max + '</p>';
    html += '<p class= "card-text">' + day.humidity + '</p>';
    html += '<p class= "card-text">' + day.wind_gust + '</p>';
    html += '<p class= "card-text">' + day.pressure + '</p>';
    html += '</div>'


    });
        $('.firstCard').html(html)


        // });







    }).fail(function(error) {
        console.log(error);

    });
    // data.daily.forEach(day)
    // {
    //     function cardHtml(day) {
    //         var html = '<div class="card  col-4 p-2">';
    //         html += '<p class="card-header p-0">' + new Date(day.dt * 1000) + '</p>';
    //         html += '<p class= "card-text">' + day.temp.day + ' ' + day.temp.max + '</p>';
    //         html += '<p class= "card-text">' + day.humidity + '</p>';
    //         html += '<p class= "card-text">' + day.wind_gust + '</p>';
    //         html += '<p class= "card-text">' + day.pressure + '</p>';
    //
    //         $('.firstCard'.html(html))
    //     }
    // }





// $(".firstCard").append(card1)


    //****************displaying the map*****************
    mapboxgl.accessToken = mapboxToken;
    const map = new mapboxgl.Map({
        container: 'map', // container ID
        style: "mapbox://styles/mapbox/dark-v10", // style URL
        center: [-98.48527, 29.423017], // starting position [lng, lat]
        zoom: 9 // starting zoom
    });
    // function displayCard(day,index){
    //     var html =
    //         html +=
    //
    // }
</script>
<!--<script>-->
<!--    var button = document.querySelector('.button');-->
<!--    var inputValue = document.querySelector('.inputValue');-->
<!--    var name = document.querySelector('.name');-->
<!--    var desc = document.querySelector('.desc');-->
<!--    var temp = document.querySelector('.temp');-->

<!--    button.addEventListener('click', function() {-->
<!--        fetch($.get)-->
<!--            .then(response => response.json())-->
<!--            .then(data => console.log(data))-->
<!--            .catch(err => alert("Wrong city name"))-->
<!--    })-->



<!--</script>-->
</body>
</html>
